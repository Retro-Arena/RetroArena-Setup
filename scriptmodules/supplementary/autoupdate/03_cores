SHELL=/bin/sh
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin

# clear log and empty build directories
cd /home/pigaming/RetroArena-Setup/tmp/build
rm -rf /home/pigaming/.config/au_failed.log
rm -R -- */

# ensure scripts are up to date
cd /home/pigaming/RetroArena-Setup
git pull https://github.com/Retro-Arena/RetroArena-Setup.git

# install from source if enabled
if [ -f /home/pigaming/.config/au_lr-fbneo ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-fbneo
fi

if [ -f /home/pigaming/.config/au_lr-flycast ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-flycast
fi

if [ -f /home/pigaming/.config/au_lr-flycast-wince ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-flycast-wince
fi

if [ -f /home/pigaming/.config/au_lr-genesis-plus-gx ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-genesis-plus-gx
fi

if [ -f /home/pigaming/.config/au_lr-mame2003-plus ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-mame2003-plus
fi

if [ -f /home/pigaming/.config/au_lr-mgba ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-mgba
fi

if [ -f /home/pigaming/.config/au_lr-mupen64plus-nx ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-mupen64plus-nx
fi

if [ -f /home/pigaming/.config/au_lr-nestopia ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-nestopia
fi

if [ -f /home/pigaming/.config/au_lr-pcsx-rearmed ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-pcsx-rearmed
fi

if [ -f /home/pigaming/.config/au_lr-picodrive ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-picodrive
fi

if [ -f /home/pigaming/.config/au_lr-quicknes ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-quicknes
fi

if [ -f /home/pigaming/.config/au_lr-snes9x ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-snes9x
fi

if [ -f /home/pigaming/.config/au_lr-yabasanshiro ]; then
    sudo __nodialog=1 ./retroarena_packages.sh lr-yabasanshiro
fi

if [ -f /home/pigaming/.config/au_ppsspp ]; then
    sudo __nodialog=1 ./retroarena_packages.sh ppsspp
fi

if [ -f /home/pigaming/.config/au_yabause ]; then
    sudo __nodialog=1 ./retroarena_packages.sh yabause
fi

# create log and empty build directories
cd /home/pigaming/RetroArena-Setup/tmp/build
ls >> /home/pigaming/.config/au_failed.log
rm -R -- */
